# =============================================================================
# Golid — Backend Environment Configuration
# =============================================================================
# Copy this file to config/.env.local and fill in the values.
# Docker Compose loads config/.env.local via env_file on the backend service.
#
# Usage:
#   cp config/.env.example config/.env.local
#
# Frontend environment variables (VITE_* prefix) live separately:
#   → frontend/.env.example
# =============================================================================

# --- Database ---
DATABASE_URL=postgres://dev:dev@db:5432/golid?sslmode=disable

# --- Application Secrets ---
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_64_CHAR_HEX_STRING_AT_LEAST_32_CHARS

# --- Application ---
APP_NAME=Golid

# --- Server ---
PORT=8080
ENVIRONMENT=development

# --- Rate Limiting ---
# AUTH_RATE_LIMIT=5              # Auth endpoint requests per minute (default: 5, set higher for E2E tests)

# --- Redis (optional — enables job queue + persistent rate limiting) ---
# REDIS_URL=redis://redis:6379/0

# --- Observability (optional) ---
# OTEL_ENDPOINT=localhost:4317
# OTEL_SERVICE_NAME=golid-api
# METRICS_ENABLED=true

# --- Email Service (Mailgun) — optional ---
# MAILGUN_API_KEY=your-mailgun-api-key
# MAILGUN_DOMAIN=your-mailgun-domain.mailgun.org
# DEV_EMAIL_OVERRIDE=your-email@example.com

# --- Payments (Stripe) — optional ---
# STRIPE_SECRET_KEY=sk_test_...

# --- Document Signing (BoldSign) — optional ---
# BOLDSIGN_API_KEY=your-boldsign-api-key

# --- Webhooks (not yet implemented — placeholders for future integration) ---
# When adding webhook handlers, verify signatures with subtle.ConstantTimeCompare
# STRIPE_WEBHOOK_SECRET=whsec_...
# BOLDSIGN_WEBHOOK_SECRET=

# --- Cloud Storage (GCS) — optional ---
# GCS_BUCKET_NAME=your-bucket-name
# GCP_PROJECT_ID=your-gcp-project
# GCP_SERVICE_ACCOUNT_EMAIL=your-sa@your-project.iam.gserviceaccount.com

# --- Frontend URL (for email links) ---
FRONTEND_URL=http://localhost:3000

# --- Operational Tuning (all have sensible defaults) ---
# SHUTDOWN_TIMEOUT=10s
# EMAIL_TIMEOUT=30s
# SSE_TICKET_TTL=30s
# SSE_KEEPALIVE_INTERVAL=30s
# RETRY_ATTEMPTS=3
# RETRY_DELAY=1s

# --- CORS (production only, comma-separated) ---
# ALLOWED_ORIGINS=https://yourdomain.com
